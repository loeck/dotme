{
  "version": 2,
  "alias": ["loeck.me", "www.loeck.me"],
  "regions": ["cdg", "bru"],
  "builds": [
    { "src": "dist/server/image.js", "use": "@now/node" },
    { "src": "dist/server/api.js", "use": "@now/node" },
    { "src": "dist/server/render.js", "use": "@now/node" },
    { "src": "dist/client/**/*", "use": "@now/static" }
  ],
  "routes": [
    {
      "src": "/dist/(.*)",
      "dest": "/dist/client/$1",
      "headers": {
        "Cache-Control": "public, max-age=86400"
      }
    },
    {
      "src": "/image",
      "dest": "/dist/server/image.js",
      "headers": {
        "Content-Type": "image/jpeg",
        "Cache-Control": "public, max-age=86400"
      }
    },
    {
      "src": "/api/spotify",
      "dest": "/dist/server/api.js"
    },
    {
      "src": "/",
      "dest": "/dist/server/render.js",
      "headers": {
        "Cache-Control": "s-maxage=86400, maxage=0"
      }
    }
  ],
  "env": {
    "GOOGLE_ANALYTICS": "@dotme-ga",
    "SPOTIFY_CLIENT_ID": "@dotme-spotify-client-id",
    "SPOTIFY_CLIENT_SECRET": "@dotme-spotify-client-secret",
    "SPOTIFY_PLAYLIST_ID": "@dotme-spotify-playlist-id",
    "SPOTIFY_SAMPLE_SIZE": "all",
    "SPOTIFY_USER_ID": "@dotme-spotify-user-id"
  }
}
